{% extends "layout.html" %}

{% block title %}About{% endblock %}

{% block meta %}
  <meta name="description" content="About Coyote3: version, environment, build metadata and release notes.">
{% endblock %}

{% block body %}
<div class="w-full h-full overflow-y-auto bg-gray-50">

  <!-- Header (same pattern as Contact) -->
  <header class="mx-auto max-w-7xl px-4 pt-6">

    <div class="flex flex-wrap items-start justify-between gap-4">
      <div>
        <h1 class="text-3xl font-semibold tracking-wide">{{ meta.app_name }}</h1>
        <p class="mt-2 max-w-3xl text-base">
          Version and deployment metadata for troubleshooting and support.
        </p>
      </div>

      <div class="flex items-center gap-2">
        {% if meta.changelog_in_app %}
          <a href="{{ url_for('docs_bp.changelog') }}"
             class="inline-flex items-center gap-2 rounded-3xl border border-gray-300 bg-white px-3 py-2 text-sm font-medium shadow-xl hover:shadow-sm hover:bg-gray-50">
            <img src="{{ url_for('static', filename='icons/heroicons_outline_24/document-text.svg') }}" alt="Changelog" class="h-4 w-4">
            Release notes
          </a>
        {% endif %}

        <a href="{{ url_for('dashboard_bp.dashboard') }}"
           class="inline-flex items-center gap-2 rounded-3xl border border-blue-300 bg-blue-200 px-3 py-2 text-sm font-medium shadow-xl hover:shadow-sm">
          <img src="{{ url_for('static', filename='icons/heroicons_outline_24/arrow-uturn-left.svg') }}" alt="Back" class="h-4 w-4">
          Back to Dashboard
        </a>
      </div>
    </div>
  </header>

  <!-- Content -->
  <main class="mx-auto max-w-7xl px-4 pb-16 mt-6 space-y-6">

    <!-- Primary cards grid (same as Contact grid feel) -->
    <section class="grid grid-cols-4 gap-4">

      <!-- App -->
      <div class="rounded-3xl border-t-4 border-blue-400 bg-white shadow-2xl p-5 hover:shadow-lg hover:bg-blue-50 transition duration-500">
        <h2 class="text-sm font-semibold">Application</h2>
        <p class="mt-1 text-sm">Name & version</p>
        <div class="mt-3 space-y-1 text-sm">
          <div><span class="font-medium">Name:</span> <strong>{{ meta.app_name }}</strong></div>
          <div><span class="font-medium">Version:</span> <span class="font-mono"><strong>v{{ meta.app_version }}</strong></span></div>
        </div>
      </div>

      <!-- Environment -->
      <div class="rounded-3xl border-t-4 border-indigo-400 bg-white shadow-2xl p-5 hover:shadow-lg hover:bg-indigo-50 transition duration-500">
        <h2 class="text-sm font-semibold">Environment</h2>
        <p class="mt-1 text-sm">Deployment context</p>
        <div class="mt-3 space-y-1 text-sm">
          <div>
            <span class="font-medium">Environment:</span>
            <span class="capitalize"><strong>{{ meta.environment or '-' }}</strong></span>
          </div>
          <p class="text-xs text-gray-600">
            Helps confirm whether behavior is from prod/dev configuration.
          </p>
        </div>
      </div>

      <!-- Build -->
      <div class="rounded-3xl border-t-4 border-purple-400 bg-white shadow-2xl p-5 hover:shadow-lg hover:bg-purple-50 transition duration-500">
        <h2 class="text-sm font-semibold">Build</h2>
        <p class="mt-1 text-sm">Build metadata</p>
        <div class="mt-3 space-y-1 text-sm">
          <div>
            <span class="font-medium">Commit:</span>
            <span class="font-mono"><strong>{{ meta.git_commit or '-' }}</article></strong></span>
          </div>
          <div>
            <span class="font-medium">Built:</span>
            <span class="font-mono"><strong>{{ meta.build_time or '-' }}</strong></span>
          </div>
        </div>
      </div>

      <!-- Links -->
      <div class="rounded-3xl border-t-4 border-pink-400 bg-white shadow-2xl p-5 hover:shadow-lg hover:bg-pink-50 transition duration-500">
        <h2 class="text-sm font-semibold">Links</h2>
        <p class="mt-1 text-sm">Quick access</p>
        <div class="mt-3 space-y-2 text-sm">
          <a href="{{ url_for('docs_bp.docs_page', doc_path='index.md') }}"
              class="flex items-center gap-2 text-indigo-700 hover:underline">
            <img src="{{ url_for('static', filename='icons/heroicons_outline_24/book-open.svg') }}"
                  alt="Docs" class="h-4 w-4">
            Handbook
          </a>

          {% if meta.changelog_in_app %}
          <a href="{{ url_for('docs_bp.changelog') }}" class="flex items-center gap-2 text-indigo-700 hover:underline">
            <img src="{{ url_for('static', filename='icons/heroicons_outline_24/document-text.svg') }}" alt="Doc" class="h-4 w-4">
            View release notes
          </a>
          {% endif %}

          {% if meta.changelog_url %}
          <a href="{{ meta.changelog_url }}" target="_blank" rel="noopener"
             class="flex items-center gap-2 text-indigo-700 hover:underline">
            <img src="{{ url_for('static', filename='icons/heroicons_outline_24/arrow-top-right-on-square.svg') }}" alt="External" class="h-4 w-4">
            Full changelog (Git)
          </a>
          {% endif %}

          {% if meta.readme_url %}
            <a href="{{ meta.readme_url }}"
              target="_blank" rel="noopener"
              class="flex items-center gap-2 text-indigo-700 hover:underline">
              <img src="{{ url_for('static', filename='icons/heroicons_outline_24/book-open.svg') }}"
                  alt="README" class="h-4 w-4">
              Project README
            </a>
          {% endif %}

          {% if config.get('LICENSE_URL') %}
            <a href="{{ url_for('docs_bp.license') }}"
                target="_blank" rel="noopener"
                class="flex items-center gap-2 text-indigo-700 hover:underline">
              <img src="{{ url_for('static', filename='icons/heroicons_outline_24/scale.svg') }}"
                    alt="License" class="h-4 w-4">
              License
            </a>
          {% endif %}

          {% if meta.code_of_conduct_url %}
            <a href="{{ meta.code_of_conduct_url }}"
              target="_blank" rel="noopener"
              class="flex items-center gap-2 text-indigo-700 hover:underline">
              <img src="{{ url_for('static', filename='icons/heroicons_outline_24/hand-thumb-up.svg') }}"
                  alt="Code of Conduct" class="h-4 w-4">
              Code of Conduct
            </a>
          {% endif %}

          {% if meta.security_url %}
            <a href="{{ meta.security_url }}"
              target="_blank" rel="noopener"
              class="flex items-center gap-2 text-indigo-700 hover:underline">
              <img src="{{ url_for('static', filename='icons/heroicons_outline_24/shield-check.svg') }}"
                  alt="Security" class="h-4 w-4">
              Security
            </a>
          {% endif %}

          {% if meta.contributing_url %}
            <a href="{{ meta.contributing_url }}"
              target="_blank" rel="noopener"
              class="flex items-center gap-2 text-indigo-700 hover:underline">
              <img src="{{ url_for('static', filename='icons/heroicons_outline_24/code-bracket-square.svg') }}"
                  alt="Contributing" class="h-4 w-4">
              Contributing
            </a>
          {% endif %}

        </div>
      </div>
    </section>

    <!-- Info/CTA card (same “Email CTA” vibe) -->
    <section class="rounded-3xl border-t-4 border-gray-600 bg-white shadow-2xl p-6 hover:shadow-lg hover:bg-gray-50 transition duration-500">
      <div class="flex flex-wrap items-center justify-between gap-3">
        <div>
          <h2 class="text-sm font-semibold">Support note</h2>
          <p class="mt-1 text-sm">
            When reporting an issue, include your version (<span class="font-mono font-bold">v{{ meta.app_version }}</span>)
            {% if meta.environment %}and environment (<span class="capitalize font-bold">{{ meta.environment }}</span>){% endif %}.
          </p>
        </div>

        {% if meta.changelog_in_app %}
        <a class="inline-flex items-center gap-2 rounded-3xl bg-gray-200 px-3 py-2 text-sm font-medium text-black shadow-lg border-l-8 border-blue-400 hover:bg-blue-400 transition duration-300 hover:text-white"
           href="{{ url_for('docs_bp.changelog') }}">
          Release notes
        </a>
        {% endif %}
      </div>
    </section>

  </main>
</div>
{% endblock %}
